# tileable_texture_and_maps_generator

Made as final assigment for SCC0251 Image Processing course of ICMC-USP on 2019. 

## Authors:

* Gabriel de Moura Peres 
* Lu√≠s Eduardo Rozante de Freitas Pereira

---

# Generating Tileable Textures for 3D Rendering.

## Abstract: 

In 3D rendering sometimes it is very important to be abble to repeat a texture side by side multiple times without "seams" between the repetitions in order to save both memory and artistic effort. This is known as a tileable or seamless texture, along with it, lots of texture maps are used to allow faking ligthining effects, those could include, but are not limited to: height, normal and roughness maps. The program will, given the photo of a surface, with any resolution and close to uniform ligthining and texture, generate a tileable Power of Two texture (one that has dimensions (width,height) equals to (2^p, 2^q), being p and q natural numbers) and its normal, height and roughness maps.

---

## Example:

![Original Image](https://github.com/LuisEduardoR/tileable_texture_and_maps_generator/blob/master/Samples/texture_sample01.jpg)
*Original image of the surface*

![Tileable Image](https://github.com/LuisEduardoR/tileable_texture_and_maps_generator/blob/master/Samples/texture_sample01_artist_tile.jpg)
*Tileable version of the image, done by hand by an artist on GIMP.*

![Tiling Pattern](https://github.com/LuisEduardoR/tileable_texture_and_maps_generator/blob/master/Samples/texture_sample01_artist_tiling.jpg)
*Multiple tiles of the image next to each other.*

![Tileable Image Height Map](https://github.com/LuisEduardoR/tileable_texture_and_maps_generator/blob/master/Samples/texture_sample01_artist_height.jpg)
*Height map, done by hand by an artist on GIMP.*

![Tileable Image Normal Map](https://github.com/LuisEduardoR/tileable_texture_and_maps_generator/blob/master/Samples/texture_sample01_artist_normal.jpg)
*Normal map, generated using a plugin for GIMP.*

![Tileable Image Roghness Map](https://github.com/LuisEduardoR/tileable_texture_and_maps_generator/blob/master/Samples/texture_sample01_artist_rough.jpg)
*Roughness map, done by hand by an artist on GIMP.*

![3D Rendering](https://github.com/LuisEduardoR/tileable_texture_and_maps_generator/blob/master/Samples/sample01_artist_render.png)
*3D rendered material, made using the tileable texture and its maps, rendered on Unity Engine. (OBS: note that Unity uses a different system for roughness map, information on how to convert roughness map to the map used in Unity is in the TODO file in the Tutorials folder)*

---

## Partial Report:

---

### Tiling the Texture:

The tiling process is probably one of the hardest parts of the project, so it was decided to get the map generation working first. But some research was done and a possible solution was found, this solution tries to automate what an artist would generally attempt when tiling a texture. The idea is to first select a square region of the input image with a power of two resolution, them put two instances of the image side-by-side horizontally, remove the seam on the center, them take the central square from the generated rectangle as a new texture and repeat the process vertically. For removing the seams, algorithms like "Best Tile" and "Min Cut" are being considered, also simulating the "Patch" tool that can be in found in programs like GIMP and Photoshop is a possibility, the problem is that this tool normally relies in the judgment of the artist to achieve good results, so an algorithm to analise how to use the tool would be necessary.

---

#### Grayscale Conversion:

Lots of the texture maps that need to be generated are created from grayscale images, so a function to convert the input image (for now before tiling) was added. The process consists in converting the image to HSV, setting saturation to 0, converting the image back to RGB and storing it for further use.

---

### Height Map:

The height map will be generated by levelling the grayscale image based on a criteria do be defined (probably one that can be adjusted by user).

---

### Normal Map:

Throught the implementation details are still being researched, it was discovered that it's possible to convert height maps to normal maps, so, as height maps will also be generated, those are probabling going to be transformed into normal maps agter the algorithm.

---

### Roughness Map:

The roughness map will be generated by levelling the grayscale image based on a criteria do be defined (probably one that can be adjusted by user).